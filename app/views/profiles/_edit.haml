-#   Copyright (c) 2010-2011, Diaspora Inc.  This file is
-#   licensed under the Affero General Public License version 3 or later.  See
-#   the COPYRIGHT file.

- content_for :page_title do
  = t('.edit_profile')

= form_tag profile_path, :method => :put, :multipart => true, :id => 'update_profile_form' do
  = render 'profiles/edit_public', :profile => profile, :aspect => aspect, :person => person

  %hr

  %h3
    = t('profiles.edit.your_private_profile')

  %h4
    = t('profiles.edit.your_bio')
  = text_area_tag 'profile[bio]', profile.bio, :rows => 5, :placeholder => t('fill_me_out'), :class => 'span12'

  .small-horizontal-spacer

  %h4
    = t('profiles.edit.your_location')
  = text_field_tag 'profile[location]', profile.location, :placeholder => t('fill_me_out'), :class => 'span12'

  .small-horizontal-spacer

  %h4
    = t('profiles.edit.your_gender')
  = text_field_tag 'profile[gender]', profile.gender, :placeholder => t("fill_me_out"), :class => 'span12'

  .small-horizontal-spacer

  %h4
    = t('profiles.edit.your_birthday')

  .row-fluid
    = select_date profile.birthday, { :prompt => true, :default => true, :order => t('date.order'), :start_year => upper_limit_date_of_birth, :end_year => lower_limit_date_of_birth, :prefix => 'profile[date]' }, { :class => 'span4' }

  .small-horizontal-spacer

  %h4
    = t('search')
 
  .well.enclosed-checkbox
    = label_tag 'profile[searchable]', :class => "checkbox" do
      = check_box_tag 'profile[searchable]', true, profile.searchable
      = t('profiles.edit.allow_search')

  .small-horizontal-spacer

  %h4
    = t('nsfw')
  %p
    = t('profiles.edit.nsfw_explanation')
  .well.enclosed-checkbox
    = label_tag 'profile[nsfw]', :class => "checkbox" do
      = check_box_tag 'profile[nsfw]', true, profile.nsfw?
      = t('profiles.edit.nsfw_check')
  
  .small-horizontal-spacer

  = t('profiles.edit.nsfw_explanation2')
  
  .small-horizontal-spacer

  .submit_block
    =yield(:submit_block)

