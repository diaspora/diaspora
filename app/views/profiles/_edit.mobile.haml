-# Copyright (c) 2010-2011, Diaspora Inc. This file is
-# licensed under the Affero General Public License version 3 or later. See
-# the COPYRIGHT file.

- content_for :page_title do
  = t('.edit_profile')

= form_tag profile_path, method: :put, multipart: true, id: 'update_profile_form' do
  = render 'profiles/edit_public', profile: profile, aspect: aspect, person: person

  %hr
  %h4
    = t('profiles.edit.your_private_profile')

  %h4
    = t('profiles.edit.your_bio')
  .row
    .col-md-12
      = text_area_tag 'profile[bio]', profile.bio, rows: 5, placeholder: t('fill_me_out'), class: 'col-md-12 form-control'

  %br

  %h4
    = t('profiles.edit.your_location')
  .row
    .col-md-12
      = text_field_tag 'profile[location]', profile.location, placeholder: t('fill_me_out'), class: 'col-md-12 form-control'

  %br

  %h4
    = t('profiles.edit.your_gender')
  .row
    .col-md-12
      = text_field_tag 'profile[gender]', profile.gender, placeholder: t("fill_me_out"), class: 'col-md-12 form-control'

  %br

  %h4
    = t('profiles.edit.your_birthday')

  .row
    .col-md-12.form-inline
      = select_date profile.birthday, { prompt: true, default: true, order: t('date.order'),
          :start_year => upper_limit_date_of_birth, :end_year => lower_limit_date_of_birth, prefix: 'profile[date]' },
          { class: 'form-control', style: 'width: 33%;'}

  %br

  %h4
    = t('search')

  .well.checkbox
    = label_tag 'profile[searchable]', class: "checkbox-inline" do
      = check_box_tag 'profile[searchable]', true, profile.searchable
      = t('profiles.edit.allow_search')

  %br

  %h4
    = t('nsfw')
  %p
    = t('profiles.edit.nsfw_explanation')
  .well.checkbox
    = label_tag 'profile[nsfw]', class: "checkbox-inline" do
      = check_box_tag 'profile[nsfw]', true, profile.nsfw?
      = t('profiles.edit.nsfw_check')

  %br

  = t('profiles.edit.nsfw_explanation2')

  %br

  .submit_block
    =yield(:submit_block)

  %br
  %br
